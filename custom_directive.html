<!DOCTYPE html>
<title>Vue app</title>
<script src="https://unpkg.com/vue@2.5.17"></script>

<div id="app">
  <!-- 定義したカスタムディレクティブを利用する -->
  <img v-fallback-image src="./logo.png">    
</div>

<script>
Vue.directive('fallback-image', {
  bind: function (el) {
    el.addEventListener('error', function (){
      // 画像のロードに失敗したら実行される処理
      el.src = 'sweets_ohagi_zunda.png'
    })
  }
})

new Vue ({
  el: '#app'  
})
</script>
